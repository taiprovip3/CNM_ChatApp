{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/extends\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport React, { useContext, useEffect, useMemo, useState } from 'react';\nimport { AuthContext } from \"../provider/AuthProvider\";\nimport { auth, database } from \"../../firebase\";\nimport { signOut } from 'firebase/auth';\nimport IconEvillcon from \"@expo/vector-icons/EvilIcons\";\nimport IconAntDesign from \"@expo/vector-icons/AntDesign\";\nimport IconFeather from \"@expo/vector-icons/Feather\";\nimport IconFontAwesome from \"@expo/vector-icons/FontAwesome\";\nimport Toast from 'react-native-toast-message';\nimport IconIonicons from \"@expo/vector-icons/Ionicons\";\nimport { collection, getDocs, orderBy, query, onSnapshot, Timestamp } from 'firebase/firestore';\nimport { AntDesign, MaterialCommunityIcons } from '@expo/vector-icons';\nimport { Menu, NativeBaseProvider, FlatList } from 'native-base';\nimport FirebaseGetRooms from \"../service/FirebaseGetRooms\";\nimport FirebaseGetFriends from \"../service/FirebaseGetFriends\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function HomepageScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useContext = useContext(AuthContext),\n      currentUser = _useContext.currentUser,\n      socket = _useContext.socket;\n\n  var objectCurrentUser = {\n    id: 'maFe32o2v4edQ9ubEf98f6AjEJF2',\n    address: 'Admin Adress',\n    age: 999,\n    email: 'taito1doraemon@gmail.com',\n    fullName: 'Phan Tấn Tài',\n    joinDate: Timestamp.now(),\n    photoURL: 'https://res.cloudinary.com/dopzctbyo/image/upload/v1665818815/seo-off-page_imucfs.png',\n    roles: ['MEMBER', 'ADMIN'],\n    sex: false\n  };\n\n  if (!currentUser || currentUser == null || currentUser.length <= 0) {\n    console.log('Phát hiện null currentUser -> stop render');\n    setTimeout(function () {\n      navigation.navigate('AuthScreen');\n    }, 2000);\n    return _jsx(_Fragment, {\n      children: _jsx(View, {\n        style: {\n          flex: 1,\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        children: _jsxs(View, {\n          style: {\n            padding: 30,\n            backgroundColor: '#2190ff',\n            borderRadius: 10\n          },\n          children: [_jsx(Text, {\n            style: {\n              color: 'white',\n              fontSize: 30,\n              textAlign: 'center'\n            },\n            children: \"Cookie and session are cleaning\"\n          }), _jsx(Text, {\n            style: {\n              color: 'white',\n              fontSize: 30,\n              textAlign: 'center'\n            },\n            children: \"We'll redirecting you soon...2s\"\n          })]\n        })\n      })\n    });\n  } else {\n    _extends(objectCurrentUser, currentUser);\n  }\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      listRoom = _useState2[0],\n      setListRoom = _useState2[1];\n\n  var id = objectCurrentUser.id;\n  var memoIdUser = useMemo(function () {\n    return id;\n  }, [id]);\n  var rooms = FirebaseGetRooms(memoIdUser);\n  useEffect(function () {\n    rooms.sort(function (x, y) {\n      return x.createAt - y.createAt;\n    });\n    setListRoom(rooms);\n    console.log('ROOM LIST :: ', rooms);\n  }, [rooms]);\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      listFriend = _useState4[0],\n      setListFriend = _useState4[1];\n\n  var friends = FirebaseGetFriends(memoIdUser);\n  useEffect(function () {\n    setListFriend(friends);\n  }, [friends]);\n\n  var OneBoxRoom = function OneBoxRoom(_ref2) {\n    var item = _ref2.item;\n    return _jsxs(Pressable, {\n      onPress: function onPress() {\n        return moveToScreenChat(item);\n      },\n      children: [_jsx(View, {\n        children: _jsx(Text, {\n          children: item.idUser\n        })\n      }), _jsx(View, {\n        style: {\n          borderBottomColor: 'lightgrey',\n          borderBottomWidth: 0.4,\n          borderStyle: 'dotted'\n        }\n      })]\n    });\n  };\n\n  var OneBoxFriend = function OneBoxFriend(_ref3) {\n    var item = _ref3.item;\n    return _jsxs(Pressable, {\n      onPress: function onPress() {\n        return moveToScreenChat(item);\n      },\n      children: [_jsxs(View, {\n        style: {\n          backgroundColor: 'white',\n          padding: 20,\n          flexDirection: 'row'\n        },\n        children: [_jsx(View, {\n          children: _jsx(Image, {\n            source: {\n              uri: item.idFriend\n            },\n            style: {\n              width: 50,\n              height: 50,\n              borderRadius: 50 / 2\n            }\n          })\n        }), _jsxs(View, {\n          style: {\n            flex: 1,\n            marginHorizontal: 8,\n            marginVertical: 5\n          },\n          children: [_jsx(Text, {\n            style: {\n              fontWeight: 'bold'\n            },\n            children: item.idUser\n          }), _jsx(Text, {\n            children: item.idUser\n          })]\n        })]\n      }), _jsx(View, {\n        style: {\n          borderBottomColor: 'lightgrey',\n          borderBottomWidth: 0.4,\n          borderStyle: 'dotted'\n        }\n      })]\n    });\n  };\n\n  var renderListRoom = function renderListRoom(_ref4) {\n    var item = _ref4.item;\n    return _jsx(OneBoxRoom, {\n      item: item\n    });\n  };\n\n  var renderListFriend = function renderListFriend(_ref5) {\n    var item = _ref5.item;\n    return _jsx(OneBoxFriend, {\n      item: item\n    });\n  };\n\n  function moveToScreenChat(item) {\n    socket.emit(\"join_room\", item.id);\n    setTimeout(function () {\n      navigation.navigate('ChatScreen', {\n        roomObj: item\n      });\n    }, 0);\n  }\n\n  var changeToCreateGroupScreen = function changeToCreateGroupScreen() {\n    setTimeout(function () {\n      navigation.navigate('CreateRoomScreen');\n    }, 100);\n  };\n\n  var changeToAddFriendScreen = function changeToAddFriendScreen() {\n    setTimeout(function () {\n      navigation.navigate('AddFriendScreen');\n    }, 100);\n  };\n\n  return _jsx(NativeBaseProvider, {\n    children: _jsxs(View, {\n      style: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center',\n        overflow: 'hidden'\n      },\n      children: [_jsx(View, {\n        style: {\n          zIndex: 1\n        },\n        children: _jsx(Toast, {})\n      }), _jsxs(View, {\n        style: {\n          flexDirection: 'row',\n          backgroundColor: '#2190ff',\n          padding: 10,\n          width: '100%',\n          flex: 1,\n          zIndex: 1\n        },\n        children: [_jsx(IconEvillcon, {\n          name: \"search\",\n          size: 24,\n          color: \"white\",\n          style: {\n            paddingTop: 4\n          }\n        }), _jsx(TextInput, {\n          placeholder: \"T\\xECm ki\\u1EBFm\",\n          style: {\n            flex: 1,\n            marginHorizontal: 8\n          },\n          placeholderTextColor: \"white\"\n        }), _jsx(IconAntDesign, {\n          name: \"qrcode\",\n          size: 24,\n          color: \"white\",\n          style: {\n            marginHorizontal: 8\n          }\n        }), _jsxs(Menu, {\n          shadow: 2,\n          trigger: function trigger(triggerProps) {\n            return _jsx(Pressable, _objectSpread(_objectSpread({\n              accessibilityLabel: \"More options menu\"\n            }, triggerProps), {}, {\n              children: _jsx(AntDesign, {\n                name: \"plus\",\n                size: 24,\n                color: \"white\"\n              })\n            }));\n          },\n          children: [_jsxs(Menu.Item, {\n            onPress: changeToCreateGroupScreen,\n            children: [_jsx(IconAntDesign, {\n              name: \"addusergroup\",\n              size: 24\n            }), _jsx(Text, {\n              children: \"T\\u1EA1o nh\\xF3m\"\n            })]\n          }), _jsxs(Menu.Item, {\n            onPress: changeToAddFriendScreen,\n            children: [_jsx(IconAntDesign, {\n              name: \"adduser\",\n              size: 24\n            }), _jsx(Text, {\n              children: \"Th\\xEAm b\\u1EA1n\"\n            })]\n          })]\n        })]\n      }), _jsxs(View, {\n        style: {\n          flex: 20,\n          width: '100%'\n        },\n        children: [_jsx(FlatList, {\n          data: listFriend,\n          renderItem: renderListFriend,\n          keyExtractor: function keyExtractor(item) {\n            return Math.floor(Math.random() * 100000001);\n          }\n        }), _jsx(FlatList, {\n          data: listRoom,\n          renderItem: renderListRoom,\n          keyExtractor: function keyExtractor(item) {\n            return item.id;\n          }\n        })]\n      }), _jsxs(View, {\n        style: {\n          flexDirection: 'row',\n          backgroundColor: '#2190ff',\n          padding: 15,\n          width: '100%',\n          flex: 1\n        },\n        children: [_jsx(View, {\n          style: {\n            flex: 1,\n            alignItems: 'center'\n          },\n          children: _jsx(IconAntDesign, {\n            name: \"message1\",\n            size: 27,\n            color: \"black\",\n            style: {\n              backgroundColor: 'white',\n              borderRadius: 100 / 2\n            }\n          })\n        }), _jsx(View, {\n          style: {\n            flex: 1,\n            alignItems: 'center'\n          },\n          children: _jsx(IconAntDesign, {\n            name: \"contacts\",\n            size: 27,\n            color: \"white\",\n            onPress: function onPress() {\n              return alert('Change to Contacts');\n            }\n          })\n        }), _jsx(View, {\n          style: {\n            flex: 1,\n            alignItems: 'center'\n          },\n          children: _jsx(IconAntDesign, {\n            name: \"appstore-o\",\n            size: 27,\n            color: \"white\"\n          })\n        }), _jsx(View, {\n          style: {\n            flex: 1,\n            alignItems: 'center'\n          },\n          children: _jsx(IconFeather, {\n            name: \"clock\",\n            size: 27,\n            color: \"white\",\n            onPress: function onPress() {\n              return alert('Change to nhật ký');\n            }\n          })\n        }), _jsx(View, {\n          style: {\n            flex: 1,\n            alignItems: 'center'\n          },\n          children: _jsx(IconFontAwesome, {\n            name: \"user-circle\",\n            size: 27,\n            color: \"white\",\n            onPress: function onPress() {\n              return signOut(auth);\n            }\n          })\n        })]\n      })]\n    })\n  });\n}\n;","map":{"version":3,"names":["React","useContext","useEffect","useMemo","useState","AuthContext","auth","database","signOut","IconEvillcon","IconAntDesign","IconFeather","IconFontAwesome","Toast","IconIonicons","collection","getDocs","orderBy","query","onSnapshot","Timestamp","AntDesign","MaterialCommunityIcons","Menu","NativeBaseProvider","FlatList","FirebaseGetRooms","FirebaseGetFriends","HomepageScreen","navigation","currentUser","socket","objectCurrentUser","id","address","age","email","fullName","joinDate","now","photoURL","roles","sex","length","console","log","setTimeout","navigate","flex","justifyContent","alignItems","padding","backgroundColor","borderRadius","color","fontSize","textAlign","listRoom","setListRoom","memoIdUser","rooms","sort","x","y","createAt","listFriend","setListFriend","friends","OneBoxRoom","item","moveToScreenChat","idUser","borderBottomColor","borderBottomWidth","borderStyle","OneBoxFriend","flexDirection","uri","idFriend","width","height","marginHorizontal","marginVertical","fontWeight","renderListRoom","renderListFriend","emit","roomObj","changeToCreateGroupScreen","changeToAddFriendScreen","overflow","zIndex","paddingTop","triggerProps","Math","floor","random","alert"],"sources":["F:/Hoc ki 4/Cong nghe moi/AppChat/client/Components/screen/HomepageScreen.js"],"sourcesContent":["import { View, Text, Button, TextInput, Image, SafeAreaView, Pressable, StyleSheet } from 'react-native';\r\nimport React, { useContext, useEffect, useMemo, useState } from 'react';\r\nimport { AuthContext } from '../provider/AuthProvider';\r\nimport { auth, database } from '../../firebase';\r\nimport { signOut } from 'firebase/auth';\r\nimport IconEvillcon from 'react-native-vector-icons/EvilIcons';\r\nimport IconAntDesign from 'react-native-vector-icons/AntDesign';\r\nimport IconFeather from 'react-native-vector-icons/Feather';\r\nimport IconFontAwesome from 'react-native-vector-icons/FontAwesome';\r\nimport Toast from 'react-native-toast-message';\r\nimport IconIonicons from 'react-native-vector-icons/Ionicons';\r\nimport { collection, getDocs, orderBy, query, onSnapshot, Timestamp } from 'firebase/firestore';\r\nimport { AntDesign, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { Menu, NativeBaseProvider, FlatList } from 'native-base';\r\nimport FirebaseGetRooms from '../service/FirebaseGetRooms';\r\nimport FirebaseGetFriends from '../service/FirebaseGetFriends';\r\n\r\nexport default function HomepageScreen({ navigation }) {\r\n//Khởi tạo biến\r\n  // Sử lý khi bấm signout hàm chống rerender lỗi\r\n  const { currentUser, socket } = useContext(AuthContext);\r\n  const objectCurrentUser = { id: 'maFe32o2v4edQ9ubEf98f6AjEJF2', address: 'Admin Adress', age:999, email: 'taito1doraemon@gmail.com', fullName: 'Phan Tấn Tài', joinDate: Timestamp.now(), photoURL: 'https://res.cloudinary.com/dopzctbyo/image/upload/v1665818815/seo-off-page_imucfs.png', roles: ['MEMBER', 'ADMIN'], sex: false };\r\n  if(!currentUser || currentUser == null || currentUser.length <= 0){\r\n    console.log('Phát hiện null currentUser -> stop render');\r\n    setTimeout(() => {\r\n      navigation.navigate('AuthScreen');\r\n    }, 2000);\r\n    return (\r\n    <>\r\n    <View style={{ flex:1,justifyContent:'center',alignItems:'center' }}>\r\n      <View style={{ padding:30, backgroundColor: '#2190ff', borderRadius:10 }}>\r\n        <Text style={{ color:'white', fontSize: 30, textAlign:'center' }}>Cookie and session are cleaning</Text>\r\n        <Text style={{ color:'white', fontSize: 30, textAlign:'center' }}>We'll redirecting you soon...2s</Text>\r\n      </View>\r\n    </View>\r\n    </>\r\n    );\r\n  } else{\r\n    Object.assign(objectCurrentUser,currentUser);\r\n  }\r\n  // Lấy list rooms mà user có tham gia\r\n  const [listRoom, setListRoom] = useState([]);\r\n  const id = objectCurrentUser.id;\r\n  const memoIdUser = useMemo(() => {\r\n    return id;\r\n  },[id]);\r\n  const rooms = FirebaseGetRooms(memoIdUser);\r\n  useEffect(() => { //biến room do trên firebase thay đổi => chạy service => gắn lại docRooms trên FB zo rooms => dẫn đến biến rooms thay đổi => chạy useEffect này => set lại data listRoom + rerender\r\n    rooms.sort(function(x, y){\r\n      return x.createAt - y.createAt;\r\n    });\r\n    setListRoom(rooms);\r\n    console.log('ROOM LIST :: ', rooms);\r\n  }, [rooms]);\r\n  // Lấy list friends mà user kết bạn\r\n  const [listFriend, setListFriend] = useState([]);\r\n  const friends = FirebaseGetFriends(memoIdUser);\r\n  useEffect(() => { //biến room do trên firebase thay đổi => chạy service => gắn lại docRooms trên FB zo rooms => dẫn đến biến rooms thay đổi => chạy useEffect này => set lại data listRoom + rerender\r\n    setListFriend(friends);\r\n  }, [friends]);\r\n\r\n//Khởi tạo hàm cần thiết\r\n  const OneBoxRoom = ({ item }) => (\r\n    <Pressable onPress={() => moveToScreenChat(item)}>\r\n      <View>\r\n        <Text>{item.idUser}</Text>\r\n      </View>\r\n      <View\r\n        style={{\r\n          borderBottomColor: 'lightgrey',\r\n          borderBottomWidth: 0.4,\r\n          borderStyle: 'dotted'\r\n        }}\r\n      />\r\n    </Pressable>\r\n  );\r\n  const OneBoxFriend= ({ item }) => (\r\n    <Pressable onPress={() => moveToScreenChat(item)}>\r\n      <View style={{backgroundColor:'white', padding:20, flexDirection:'row'}}>\r\n        <View>\r\n          <Image source={{uri: item.idFriend}} style={{width:50,height:50,borderRadius:50/2}} />\r\n        </View>\r\n        <View style={{flex:1, marginHorizontal:8, marginVertical:5}}>\r\n          <Text style={{fontWeight:'bold'}}>{item.idUser}</Text>\r\n          <Text>{item.idUser}</Text>\r\n        </View>\r\n      </View>\r\n      <View\r\n        style={{\r\n          borderBottomColor: 'lightgrey',\r\n          borderBottomWidth: 0.4,\r\n          borderStyle: 'dotted'\r\n        }}\r\n      />\r\n    </Pressable>\r\n  );\r\n  const renderListRoom = ({ item }) => (\r\n    <OneBoxRoom item={item} />\r\n  );\r\n  const renderListFriend = ({ item }) => (\r\n    <OneBoxFriend item={item} />\r\n  );\r\n  function moveToScreenChat(item){\r\n    socket.emit(\"join_room\", item.id);\r\n    setTimeout(() => {\r\n      navigation.navigate('ChatScreen', {roomObj: item});\r\n    }, 0);\r\n  }\r\n  const changeToCreateGroupScreen = () => {\r\n    setTimeout(() => {\r\n      navigation.navigate('CreateRoomScreen');\r\n    }, 100);\r\n  }\r\n  const changeToAddFriendScreen = () => {\r\n    setTimeout(() => {\r\n      navigation.navigate('AddFriendScreen');\r\n    }, 100);\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  //4. Render html\r\n  return (\r\n    <NativeBaseProvider>\r\n      <View style={{flex: 1, justifyContent: 'center', alignItems: 'center', overflow:'hidden'}}>\r\n        {/* Box0 */}\r\n        <View style={{zIndex:1}}>\r\n          <Toast />\r\n        </View>\r\n        {/* Box1 */}\r\n        <View style={{flexDirection:'row', backgroundColor:'#2190ff', padding:10, width:'100%', flex:1, zIndex:1}}>\r\n          <IconEvillcon name='search' size={24} color='white' style={{paddingTop:4}} />\r\n          <TextInput placeholder='Tìm kiếm' style={{flex:1,marginHorizontal:8}} placeholderTextColor='white' />\r\n          <IconAntDesign name='qrcode' size={24} color='white' style={{marginHorizontal:8}} />\r\n          <Menu shadow={2} trigger={triggerProps => {\r\n        return <Pressable accessibilityLabel=\"More options menu\" {...triggerProps}>\r\n                <AntDesign name=\"plus\" size={24} color=\"white\" />\r\n              </Pressable>;\r\n          }}>\r\n            <Menu.Item onPress={changeToCreateGroupScreen}>\r\n              <IconAntDesign name='addusergroup' size={24} />\r\n              <Text>Tạo nhóm</Text>\r\n            </Menu.Item>\r\n            <Menu.Item onPress={changeToAddFriendScreen}>\r\n              <IconAntDesign name='adduser' size={24} />\r\n              <Text>Thêm bạn</Text>\r\n            </Menu.Item>\r\n          </Menu>\r\n        </View>\r\n        {/* Box2 */}\r\n        <View style={{flex:20, width:'100%'}}>\r\n            <FlatList\r\n              data={listFriend}\r\n              renderItem={renderListFriend}\r\n              keyExtractor={(item) => Math.floor(Math.random() * 100000001)}\r\n            />\r\n            <FlatList\r\n              data={listRoom}\r\n              renderItem={renderListRoom}\r\n              keyExtractor={(item) => item.id}\r\n            />\r\n        </View>\r\n        {/* Box3 */}\r\n        <View style={{flexDirection:'row', backgroundColor:'#2190ff', padding:15, width:'100%', flex:1}}>\r\n          <View style={{flex:1, alignItems:'center'}}>\r\n            <IconAntDesign name='message1' size={27} color='black' style={{backgroundColor:'white', borderRadius:100/2}} />\r\n          </View>\r\n          <View style={{flex:1, alignItems:'center'}}>\r\n            <IconAntDesign name='contacts' size={27} color='white' onPress={() => alert('Change to Contacts')} />\r\n          </View>\r\n          <View style={{flex:1, alignItems:'center'}}>\r\n            <IconAntDesign name='appstore-o' size={27} color='white' />\r\n          </View>\r\n          <View style={{flex:1, alignItems:'center'}}>\r\n            <IconFeather name='clock' size={27} color='white' onPress={() => alert('Change to nhật ký')} />\r\n          </View>\r\n          <View style={{flex:1, alignItems:'center'}}>\r\n            <IconFontAwesome name='user-circle' size={27} color='white' onPress={() => signOut(auth)} />\r\n          </View>\r\n        </View>\r\n      </View>\r\n    </NativeBaseProvider>\r\n  )\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}