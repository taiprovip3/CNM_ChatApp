{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { propConfig } from \"../theme/styled-system\";\nimport { hasValidBreakpointFormat } from \"../theme/tools\";\nimport { getRNKeyAndStyleValue } from \"./getRNKeyAndStyleValue\";\nexport var getStyledFromProps = function getStyledFromProps(styledSystemProps, theme, currentBreakpoint) {\n  var styleFromProps = {};\n  var responsiveStyles = null;\n  var orderedBreakPoints = Object.entries(theme.breakpoints).sort(function (a, b) {\n    return a[1] - b[1];\n  });\n\n  var _loop = function _loop(key) {\n    var rawValue = styledSystemProps[key];\n    var config = propConfig[key];\n\n    if (hasValidBreakpointFormat(rawValue, theme.breakpoints)) {\n      if (!responsiveStyles) responsiveStyles = {};\n      var value = rawValue;\n\n      if (Array.isArray(value)) {\n        value.forEach(function (v, i) {\n          if (!responsiveStyles[orderedBreakPoints[i][0]]) {\n            responsiveStyles[orderedBreakPoints[i][0]] = [];\n          }\n\n          var newStyle = getRNKeyAndStyleValue({\n            config: config,\n            value: v,\n            key: key,\n            styledSystemProps: styledSystemProps,\n            theme: theme,\n            currentBreakpoint: currentBreakpoint\n          });\n          responsiveStyles[orderedBreakPoints[i][0]].push(newStyle);\n        });\n      } else {\n        for (var k in value) {\n          var newStyle = getRNKeyAndStyleValue({\n            config: config,\n            value: value[k],\n            key: key,\n            styledSystemProps: styledSystemProps,\n            theme: theme,\n            currentBreakpoint: currentBreakpoint\n          });\n\n          if (!responsiveStyles[k]) {\n            responsiveStyles[k] = [];\n          }\n\n          responsiveStyles[k].push(newStyle);\n        }\n      }\n    } else {\n      var _value = rawValue;\n\n      var _newStyle = getRNKeyAndStyleValue({\n        config: config,\n        value: _value,\n        key: key,\n        styledSystemProps: styledSystemProps,\n        theme: theme,\n        currentBreakpoint: currentBreakpoint\n      });\n\n      styleFromProps = _objectSpread(_objectSpread({}, styleFromProps), _newStyle);\n    }\n  };\n\n  for (var key in styledSystemProps) {\n    _loop(key);\n  }\n\n  return {\n    styleFromProps: styleFromProps,\n    responsiveStyles: responsiveStyles\n  };\n};","map":{"version":3,"mappings":"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","names":["propConfig","hasValidBreakpointFormat","getRNKeyAndStyleValue","getStyledFromProps","styledSystemProps","theme","currentBreakpoint","styleFromProps","responsiveStyles","orderedBreakPoints","Object","entries","breakpoints","sort","a","b","key","rawValue","config","value","Array","isArray","forEach","v","i","newStyle","push","k"],"sources":["getStyledFromProps.ts"],"sourcesContent":["import { propConfig } from '../theme/styled-system';\nimport { hasValidBreakpointFormat } from '../theme/tools';\nimport { getRNKeyAndStyleValue } from './getRNKeyAndStyleValue';\nimport type { ITheme } from '../theme';\n/**\n * Common Logic Sharing between useSx and useStyledSytem\n * @param styledSystemProps\n * @param theme\n * @param currentBreakpoint\n * @returns styleFromProps, responsiveStyles\n */\n\nexport const getStyledFromProps = (\n  styledSystemProps: any,\n  theme: any,\n  currentBreakpoint: any\n) => {\n  let styleFromProps: any = {};\n  let responsiveStyles: null | Record<\n    keyof typeof theme.breakpoints,\n    Array<any>\n  > = null;\n  const orderedBreakPoints = Object.entries(\n    theme.breakpoints as ITheme['breakpoints']\n  ).sort((a, b) => a[1] - b[1]);\n  for (const key in styledSystemProps) {\n    const rawValue = styledSystemProps[key];\n\n    const config = propConfig[key as keyof typeof propConfig];\n\n    if (hasValidBreakpointFormat(rawValue, theme.breakpoints)) {\n      if (!responsiveStyles) responsiveStyles = {};\n\n      const value = rawValue;\n      if (Array.isArray(value)) {\n        value.forEach((v, i) => {\n          //@ts-ignore\n          if (!responsiveStyles[orderedBreakPoints[i][0]]) {\n            //@ts-ignore\n            responsiveStyles[orderedBreakPoints[i][0]] = [];\n          }\n          const newStyle = getRNKeyAndStyleValue({\n            config,\n            value: v,\n            key,\n            styledSystemProps,\n            theme,\n            currentBreakpoint,\n          });\n          //@ts-ignore\n          responsiveStyles[orderedBreakPoints[i][0]].push(newStyle);\n        });\n      } else {\n        for (const k in value) {\n          const newStyle = getRNKeyAndStyleValue({\n            config,\n            value: value[k],\n            key,\n            styledSystemProps,\n            theme,\n            currentBreakpoint,\n          });\n          if (!responsiveStyles[k]) {\n            responsiveStyles[k] = [];\n          }\n          responsiveStyles[k].push(newStyle);\n        }\n      }\n    } else {\n      const value = rawValue;\n      const newStyle = getRNKeyAndStyleValue({\n        config,\n        value,\n        key,\n        styledSystemProps,\n        theme,\n        currentBreakpoint,\n      });\n\n      styleFromProps = {\n        ...styleFromProps,\n        ...newStyle,\n      };\n    }\n  }\n\n  return { styleFromProps, responsiveStyles };\n};\n"]},"metadata":{},"sourceType":"module"}