{"ast":null,"code":"import View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport React, { useContext, useEffect, useMemo, useState } from 'react';\nimport { AuthContext } from \"../provider/AuthProvider\";\nimport { collection, getDocs, orderBy, query, onSnapshot, addDoc, Timestamp, where, doc, updateDoc, arrayUnion } from 'firebase/firestore';\nimport { database } from \"../../firebase\";\nimport FirebaseGetRoomMessages from \"../service/FirebaseGetRoomMessages\";\nimport { Box, Center, HStack, NativeBaseProvider, Text } from 'native-base';\nimport { AntDesign, Ionicons, MaterialCommunityIcons, MaterialIcons } from '@expo/vector-icons';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function ChatScreen(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  return _jsxs(NativeBaseProvider, {\n    children: [_jsx(Box, {\n      bg: \"#2190ff\",\n      children: _jsxs(Box, {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        children: [_jsxs(Box, {\n          flex: 1,\n          children: [_jsx(Text, {\n            bold: true,\n            fontSize: \"lg\",\n            color: \"white\",\n            children: \"My First Group\"\n          }), _jsx(Text, {\n            color: \"white\",\n            children: \"> B\\u1EA5m \\u0111\\u1EC3 xem th\\xF4ng tin\"\n          })]\n        }), _jsx(Box, {\n          px: \"2.5\",\n          children: _jsx(AntDesign, {\n            name: \"addusergroup\",\n            size: 24,\n            color: \"white\"\n          })\n        }), _jsx(Box, {\n          px: \"2.5\",\n          children: _jsx(Ionicons, {\n            name: \"image-outline\",\n            size: 24,\n            color: \"white\"\n          })\n        }), _jsx(Box, {\n          px: \"2.5\",\n          children: _jsx(MaterialCommunityIcons, {\n            name: \"dots-horizontal\",\n            size: 24,\n            color: \"white\"\n          })\n        })]\n      })\n    }), _jsx(Box, {\n      flex: 1,\n      bg: \"coolGray.300\",\n      children: _jsx(Center, {\n        children: _jsxs(Box, {\n          bg: \"white\",\n          justifyItems: \"center\",\n          children: [_jsx(Box, {\n            borderColor: \"coolGray.400\",\n            borderWidth: \"1\",\n            borderRadius: \"150\",\n            p: \"3\",\n            w: \"20%\",\n            children: _jsx(MaterialIcons, {\n              name: \"camera-enhance\",\n              size: 24,\n              color: \"grey\"\n            })\n          }), _jsx(Text, {\n            textAlign: \"center\",\n            children: \"My First Group\"\n          }), _jsx(Text, {\n            children: \"H\\xE3y chia s\\u1EBD nh\\u01B0ng \\u0111i\\u1EC1u th\\xFA v\\u1ECB nh\\u1EA5t c\\xF9ng nhau\"\n          })]\n        })\n      })\n    })]\n  });\n}","map":{"version":3,"names":["React","useContext","useEffect","useMemo","useState","AuthContext","collection","getDocs","orderBy","query","onSnapshot","addDoc","Timestamp","where","doc","updateDoc","arrayUnion","database","FirebaseGetRoomMessages","Box","Center","HStack","NativeBaseProvider","Text","AntDesign","Ionicons","MaterialCommunityIcons","MaterialIcons","ChatScreen","route","navigation"],"sources":["F:/Hoc ki 4/Cong nghe moi/AppChat/client/Components/screen/ChatScreen.js"],"sourcesContent":["import { View, Button, TextInput, Image } from 'react-native'\r\nimport React, { useContext, useEffect, useMemo, useState } from 'react'\r\nimport { AuthContext } from '../provider/AuthProvider';\r\nimport { collection, getDocs, orderBy, query, onSnapshot, addDoc, Timestamp, where, doc, updateDoc, arrayUnion } from 'firebase/firestore';\r\nimport { database } from '../../firebase';\r\nimport FirebaseGetRoomMessages from '../service/FirebaseGetRoomMessages';\r\nimport { Box, Center, HStack, NativeBaseProvider, Text } from 'native-base';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons, MaterialIcons } from '@expo/vector-icons';\r\n\r\nexport default function ChatScreen({ route, navigation }) {\r\n//Khởi tạo biến\r\n    // const { currentUser:{\r\n    //     id,\r\n    //     email,\r\n    //     photoURL,\r\n    //     fullName\r\n    // }, socket } = useContext(AuthContext);\r\n    // const [currentMessage, setCurrentMessage] = useState('');\r\n    // const { idRoom } = route.params;\r\n    // const { nameRoom } = route.params;\r\n    // const [listObjectMessage, setListObjectMessage] = useState([]);\r\n    // const memoIdRoom = useMemo(() => {\r\n    //   return idRoom;\r\n    // }, [idRoom]);\r\n    // const roomMessages = FirebaseGetRoomMessages(memoIdRoom);\r\n    \r\n    // useEffect(() => {\r\n    //   setListObjectMessage(roomMessages);\r\n    // }, [roomMessages]);\r\n    // useEffect(() => {\r\n    //   socket.on(\"receive_message\", (objectMessage) => {\r\n    //       setListObjectMessage((list) => [...list, objectMessage]);\r\n    //   });\r\n    // }, [socket]);\r\n\r\n//Hàm khởi tạo cần thiết\r\n    // const sendMessage = async () => {\r\n    //     if(currentMessage != \"\") {\r\n    //         const objectMessage = {\r\n    //             idSender: id,\r\n    //             nameSender: fullName,\r\n    //             msg: currentMessage,\r\n    //             time: Timestamp.now(),\r\n    //             photoURL: 'https://res.cloudinary.com/dopzctbyo/image/upload/v1649587869/cld-sample.jpg'\r\n    //         }\r\n    //         socket.emit(\"send_message\", objectMessage, idRoom);\r\n    //         setListObjectMessage((list) => [...list, objectMessage]);\r\n    //         const RoomMessagesDocRef = doc(database, \"RoomMessages\", idRoom);\r\n    //         await updateDoc(RoomMessagesDocRef, {\r\n    //           listObjectMessage: arrayUnion(objectMessage)\r\n    //         });\r\n    //     }\r\n    // }\r\n  return (\r\n    <NativeBaseProvider>\r\n        <Box bg='#2190ff'>\r\n              <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"center\" alignItems=\"center\">\r\n                <Box flex={1}>\r\n                  <Text bold fontSize='lg' color='white'>My First Group</Text>\r\n                  <Text color='white'>> Bấm để xem thông tin</Text>\r\n                </Box>\r\n                <Box px='2.5'>\r\n                  <AntDesign name=\"addusergroup\" size={24} color=\"white\" />\r\n                </Box>\r\n                <Box px='2.5'>\r\n                  <Ionicons name=\"image-outline\" size={24} color=\"white\" />\r\n                </Box>\r\n                <Box px='2.5'>\r\n                  <MaterialCommunityIcons name=\"dots-horizontal\" size={24} color=\"white\" />\r\n                </Box>\r\n              </Box>\r\n        </Box>\r\n        <Box flex={1} bg='coolGray.300'>\r\n            <Center>\r\n              <Box bg='white' justifyItems='center'>\r\n                <Box borderColor='coolGray.400' borderWidth='1' borderRadius='150' p='3' w='20%'>\r\n                  <MaterialIcons name=\"camera-enhance\" size={24} color=\"grey\" />\r\n                </Box>\r\n                <Text textAlign='center'>My First Group</Text>\r\n                <Text>Hãy chia sẽ nhưng điều thú vị nhất cùng nhau</Text>\r\n              </Box>\r\n            </Center>\r\n        </Box>\r\n    </NativeBaseProvider>\r\n    // <View style={{flex:1, alignItems:'center'}}>\r\n    //   <View>\r\n    //     <Text>Room: {nameRoom}</Text>\r\n    //   </View>\r\n    //   <View style={{flex:1,backgroundColor:'lightgrey', width:'100%'}}>\r\n    //     {listObjectMessage.map((msgObject) => {\r\n    //         return <View key={email === msgObject.email ? Math.random() : Math.random()}>\r\n    //                   <View style={{backgroundColor:'white', padding:20, flexDirection:'row'}}>\r\n    //                       <View>\r\n    //                         <Image source={{uri:msgObject.photoURL}} style={{width:50,height:50,borderRadius:50/2}} />\r\n    //                       </View>\r\n    //                       <View style={{flex:1, marginHorizontal:8, marginVertical:5}}>\r\n    //                         <Text style={{fontWeight:'bold'}}>{msgObject.author}</Text>\r\n    //                         <Text>{msgObject.msg}</Text>\r\n    //                       </View>\r\n    //                   </View>\r\n    //                   <View\r\n    //                     style={{\r\n    //                       borderBottomColor: 'lightgrey',\r\n    //                       borderBottomWidth: 0.4,\r\n    //                       borderStyle: 'dotted'\r\n    //                     }}\r\n    //                   />\r\n    //               </View>\r\n    //               ;\r\n    //     })}\r\n    //   </View>\r\n    //   <View style={{flexDirection:'row', width:'100%', padding:10}}>\r\n    //     <TextInput placeholder='Enter message...' onChangeText={(e) => setCurrentMessage(e)} value={currentMessage} style={{flex:1}} />\r\n    //     <Button title='Send message' onPress={sendMessage}/>\r\n    //   </View>\r\n    // </View>\r\n  );\r\n}"],"mappings":";;;;AACA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,OAAvC,EAAgDC,QAAhD,QAAgE,OAAhE;AACA,SAASC,WAAT;AACA,SAASC,UAAT,EAAqBC,OAArB,EAA8BC,OAA9B,EAAuCC,KAAvC,EAA8CC,UAA9C,EAA0DC,MAA1D,EAAkEC,SAAlE,EAA6EC,KAA7E,EAAoFC,GAApF,EAAyFC,SAAzF,EAAoGC,UAApG,QAAsH,oBAAtH;AACA,SAASC,QAAT;AACA,OAAOC,uBAAP;AACA,SAASC,GAAT,EAAcC,MAAd,EAAsBC,MAAtB,EAA8BC,kBAA9B,EAAkDC,IAAlD,QAA8D,aAA9D;AACA,SAASC,SAAT,EAAoBC,QAApB,EAA8BC,sBAA9B,EAAsDC,aAAtD,QAA2E,oBAA3E;;;AAEA,eAAe,SAASC,UAAT,OAA2C;EAAA,IAArBC,KAAqB,QAArBA,KAAqB;EAAA,IAAdC,UAAc,QAAdA,UAAc;EA4CxD,OACE,MAAC,kBAAD;IAAA,WACI,KAAC,GAAD;MAAK,EAAE,EAAC,SAAR;MAAA,UACM,MAAC,GAAD;QAAK,OAAO,EAAC,MAAb;QAAoB,aAAa,EAAC,KAAlC;QAAwC,cAAc,EAAC,QAAvD;QAAgE,UAAU,EAAC,QAA3E;QAAA,WACE,MAAC,GAAD;UAAK,IAAI,EAAE,CAAX;UAAA,WACE,KAAC,IAAD;YAAM,IAAI,MAAV;YAAW,QAAQ,EAAC,IAApB;YAAyB,KAAK,EAAC,OAA/B;YAAA;UAAA,EADF,EAEE,KAAC,IAAD;YAAM,KAAK,EAAC,OAAZ;YAAA;UAAA,EAFF;QAAA,EADF,EAKE,KAAC,GAAD;UAAK,EAAE,EAAC,KAAR;UAAA,UACE,KAAC,SAAD;YAAW,IAAI,EAAC,cAAhB;YAA+B,IAAI,EAAE,EAArC;YAAyC,KAAK,EAAC;UAA/C;QADF,EALF,EAQE,KAAC,GAAD;UAAK,EAAE,EAAC,KAAR;UAAA,UACE,KAAC,QAAD;YAAU,IAAI,EAAC,eAAf;YAA+B,IAAI,EAAE,EAArC;YAAyC,KAAK,EAAC;UAA/C;QADF,EARF,EAWE,KAAC,GAAD;UAAK,EAAE,EAAC,KAAR;UAAA,UACE,KAAC,sBAAD;YAAwB,IAAI,EAAC,iBAA7B;YAA+C,IAAI,EAAE,EAArD;YAAyD,KAAK,EAAC;UAA/D;QADF,EAXF;MAAA;IADN,EADJ,EAkBI,KAAC,GAAD;MAAK,IAAI,EAAE,CAAX;MAAc,EAAE,EAAC,cAAjB;MAAA,UACI,KAAC,MAAD;QAAA,UACE,MAAC,GAAD;UAAK,EAAE,EAAC,OAAR;UAAgB,YAAY,EAAC,QAA7B;UAAA,WACE,KAAC,GAAD;YAAK,WAAW,EAAC,cAAjB;YAAgC,WAAW,EAAC,GAA5C;YAAgD,YAAY,EAAC,KAA7D;YAAmE,CAAC,EAAC,GAArE;YAAyE,CAAC,EAAC,KAA3E;YAAA,UACE,KAAC,aAAD;cAAe,IAAI,EAAC,gBAApB;cAAqC,IAAI,EAAE,EAA3C;cAA+C,KAAK,EAAC;YAArD;UADF,EADF,EAIE,KAAC,IAAD;YAAM,SAAS,EAAC,QAAhB;YAAA;UAAA,EAJF,EAKE,KAAC,IAAD;YAAA;UAAA,EALF;QAAA;MADF;IADJ,EAlBJ;EAAA,EADF;AAgED"},"metadata":{},"sourceType":"module"}