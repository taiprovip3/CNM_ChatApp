{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport { collection, doc, onSnapshot, orderBy, query, where } from 'firebase/firestore';\nimport { database } from \"../../firebase\";\n\nvar FirebaseGetFriends = function FirebaseGetFriends(owner) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      friends = _useState2[0],\n      setFriends = _useState2[1];\n\n  if (!owner || !owner.length) {\n    setFriends([]);\n    return;\n  }\n\n  useEffect(function () {\n    var unsubcribe = onSnapshot(doc(database, \"UserFriends\", owner), function (doc) {\n      console.log('LIST FRIENDS :: ', doc.data().listFriend);\n      setFriends(doc.data().listFriend);\n    });\n    return unsubcribe;\n  }, [owner]);\n  return friends;\n};\n\nexport default FirebaseGetFriends;","map":{"version":3,"names":["React","useEffect","useState","collection","doc","onSnapshot","orderBy","query","where","database","FirebaseGetFriends","owner","friends","setFriends","length","unsubcribe","console","log","data","listFriend"],"sources":["F:/Hoc ki 4/Cong nghe moi/AppChat/client/Components/service/FirebaseGetFriends.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { collection, doc, onSnapshot, orderBy, query, where } from 'firebase/firestore';\r\nimport { database } from '../../firebase';\r\n\r\n//UseEffect này luôn lắng nge\r\n//UseEffect này chỉ chạy lại khi biến owner lớp cha gọi nó thay đổi giá trị truyền vào\r\n//Nếu thay đổi hàm sẽ đc thực thi => trả về danh sách rooms mới.\r\nconst FirebaseGetFriends = (owner) => {\r\n    const [friends, setFriends] = useState([]);\r\n    if(!owner || !owner.length){\r\n        setFriends([]);\r\n        return;\r\n    }\r\n    useEffect(() => {\r\n        const unsubcribe = onSnapshot(doc(database, \"UserFriends\", owner), (doc) => {\r\n            console.log('LIST FRIENDS :: ',doc.data().listFriend);\r\n            setFriends(doc.data().listFriend);\r\n        });\r\n        return unsubcribe;\r\n    }, [owner]);\r\n    return friends;\r\n};\r\n\r\nexport default FirebaseGetFriends;"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,EAAqBC,GAArB,EAA0BC,UAA1B,EAAsCC,OAAtC,EAA+CC,KAA/C,EAAsDC,KAAtD,QAAmE,oBAAnE;AACA,SAASC,QAAT;;AAKA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,KAAD,EAAW;EAClC,gBAA8BT,QAAQ,CAAC,EAAD,CAAtC;EAAA;EAAA,IAAOU,OAAP;EAAA,IAAgBC,UAAhB;;EACA,IAAG,CAACF,KAAD,IAAU,CAACA,KAAK,CAACG,MAApB,EAA2B;IACvBD,UAAU,CAAC,EAAD,CAAV;IACA;EACH;;EACDZ,SAAS,CAAC,YAAM;IACZ,IAAMc,UAAU,GAAGV,UAAU,CAACD,GAAG,CAACK,QAAD,EAAW,aAAX,EAA0BE,KAA1B,CAAJ,EAAsC,UAACP,GAAD,EAAS;MACxEY,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAA+Bb,GAAG,CAACc,IAAJ,GAAWC,UAA1C;MACAN,UAAU,CAACT,GAAG,CAACc,IAAJ,GAAWC,UAAZ,CAAV;IACH,CAH4B,CAA7B;IAIA,OAAOJ,UAAP;EACH,CANQ,EAMN,CAACJ,KAAD,CANM,CAAT;EAOA,OAAOC,OAAP;AACH,CAdD;;AAgBA,eAAeF,kBAAf"},"metadata":{},"sourceType":"module"}